function  [safe_yield]  = strmflw2yld(inflow, storage)

maxRelease = 200; % MCM/y , equal to 250,000 cm/d
for r = 0:maxRelease
    maxK = sequent_peak2(inflow, r);
    if maxK >= storage
        safe_yield = r;
        break
    end
end

error('didnt find safe yield')
    